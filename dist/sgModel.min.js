!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.sgModel=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){module.exports=Emitter;function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key]}return obj}Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks[event]=this._callbacks[event]||[]).push(fn);return this};Emitter.prototype.once=function(event,fn){var self=this;this._callbacks=this._callbacks||{};function on(){self.off(event,on);fn.apply(this,arguments)}on.fn=fn;this.on(event,on);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks[event];return this}var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break}}return this};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args)}}return this};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks[event]||[]};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],2:[function(_dereq_,module,exports){var contains=_dereq_("sc-contains"),is=_dereq_("sc-is");var cast=function(_value,_castType,_default,_values,_additionalProperties){var parsedValue,castType=_castType,value,values=is.an.array(_values)?_values:[];switch(true){case/float|integer/.test(castType):castType="number";break}if(is.a[castType](_value)||castType==="*"){value=_value}else{switch(true){case castType==="array":try{if(is.a.string(_value)){value=JSON.parse(_value)}if(is.not.an.array(value)){throw""}}catch(e){if(is.not.nullOrUndefined(_value)){value=[_value]}}break;case castType==="boolean":try{value=/^(true|1|y|yes)$/i.test(_value.toString())?true:undefined}catch(e){}if(is.not.a.boolean(value)){try{value=/^(false|-1|0|n|no)$/i.test(_value.toString())?false:undefined}catch(e){}}value=is.a.boolean(value)?value:undefined;break;case castType==="date":try{value=new Date(_value);value=isNaN(value.getTime())?undefined:value}catch(e){}break;case castType==="string":try{value=JSON.stringify(_value);if(is.undefined(value)){throw""}}catch(e){try{value=_value.toString()}catch(e){}}break;case castType==="number":try{value=parseFloat(_value);if(is.not.a.number(value)||isNaN(value)){value=undefined}}catch(e){value=undefined}if(value!==undefined){switch(true){case _castType==="integer":value=parseInt(value);break}}break;default:try{value=cast(JSON.parse(_value),castType)}catch(e){}break}}if(values.length>0&&!contains(values,value)){value=values[0]}return is.not.undefined(value)?value:is.not.undefined(_default)?_default:null};module.exports=cast},{"sc-contains":3,"sc-is":7}],3:[function(_dereq_,module,exports){var contains=function(data,item){var foundOne=false;if(Array.isArray(data)){data.forEach(function(arrayItem){if(foundOne===false&&item===arrayItem){foundOne=true}})}else if(Object(data)===data){Object.keys(data).forEach(function(key){if(foundOne===false&&data[key]===item){foundOne=true}})}return foundOne};module.exports=contains},{}],4:[function(_dereq_,module,exports){var guidRx="{?[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-4[0-9A-Fa-f]{3}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}}?";exports.generate=function(){var d=(new Date).getTime();var guid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==="x"?r:r&7|8).toString(16)});return guid};exports.match=function(string){var rx=new RegExp(guidRx,"g"),matches=(typeof string==="string"?string:"").match(rx);return Array.isArray(matches)?matches:[]};exports.isValid=function(guid){var rx=new RegExp(guidRx);return rx.test(guid)}},{}],5:[function(_dereq_,module,exports){var type=_dereq_("type-component"),has=Object.prototype.hasOwnProperty;function hasKey(object,keys,keyType){object=type(object)==="object"?object:{},keys=type(keys)==="array"?keys:[];keyType=type(keyType)==="string"?keyType:"";var key=keys.length>0?keys.shift():"",keyExists=has.call(object,key)||object[key]!==void 0,keyValue=keyExists?object[key]:undefined,keyTypeIsCorrect=type(keyValue)===keyType;if(keys.length>0&&keyExists){return hasKey(object[key],keys,keyType)}return keys.length>0||keyType===""?keyExists:keyExists&&keyTypeIsCorrect}module.exports=function(object,keys,keyType){keys=type(keys)==="string"?keys.split("."):[];return hasKey(object,keys,keyType)}},{"type-component":6}],6:[function(_dereq_,module,exports){var toString=Object.prototype.toString;module.exports=function(val){switch(toString.call(val)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array"}if(val===null)return"null";if(val===undefined)return"undefined";if(val===Object(val))return"object";return typeof val}},{}],7:[function(_dereq_,module,exports){var type=_dereq_("./ises/type"),is={a:{},an:{},not:{a:{},an:{}}};var ises={arguments:["arguments",type("arguments")],array:["array",type("array")],"boolean":["boolean",type("boolean")],date:["date",type("date")],"function":["function","func","fn",type("function")],"null":["null",type("null")],number:["number","integer","int",type("number")],object:["object",type("object")],regexp:["regexp",type("regexp")],string:["string",type("string")],undefined:["undefined",type("undefined")],empty:["empty",_dereq_("./ises/empty")],nullorundefined:["nullOrUndefined","nullorundefined",_dereq_("./ises/nullorundefined")],guid:["guid",_dereq_("./ises/guid")]};Object.keys(ises).forEach(function(key){var methods=ises[key].slice(0,ises[key].length-1),fn=ises[key][ises[key].length-1];methods.forEach(function(methodKey){is[methodKey]=is.a[methodKey]=is.an[methodKey]=fn;is.not[methodKey]=is.not.a[methodKey]=is.not.an[methodKey]=function(){return fn.apply(this,arguments)?false:true}})});exports=module.exports=is;exports.type=type},{"./ises/empty":8,"./ises/guid":9,"./ises/nullorundefined":10,"./ises/type":11}],8:[function(_dereq_,module,exports){var type=_dereq_("../type");module.exports=function(value){var empty=false;if(type(value)==="null"||type(value)==="undefined"){empty=true}else if(type(value)==="object"){empty=Object.keys(value).length===0}else if(type(value)==="boolean"){empty=value===false}else if(type(value)==="number"){empty=value===0||value===-1}else if(type(value)==="array"||type(value)==="string"){empty=value.length===0}return empty}},{"../type":12}],9:[function(_dereq_,module,exports){var guid=_dereq_("sc-guid");module.exports=function(value){return guid.isValid(value)}},{"sc-guid":4}],10:[function(_dereq_,module,exports){module.exports=function(value){return value===null||value===undefined||value===void 0}},{}],11:[function(_dereq_,module,exports){var type=_dereq_("../type");module.exports=function(_type){return function(_value){return type(_value)===_type}}},{"../type":12}],12:[function(_dereq_,module,exports){var toString=Object.prototype.toString;module.exports=function(val){switch(toString.call(val)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array"}if(val===null)return"null";if(val===undefined)return"undefined";if(val===Object(val))return"object";return typeof val}},{}],13:[function(_dereq_,module,exports){var type=_dereq_("type-component");var merge=function(){var args=Array.prototype.slice.call(arguments),deep=type(args[0])==="boolean"?args.shift():false,objects=args,result={};objects.forEach(function(objectn){if(type(objectn)!=="object"){return}Object.keys(objectn).forEach(function(key){if(Object.prototype.hasOwnProperty.call(objectn,key)){if(deep&&type(objectn[key])==="object"){result[key]=merge(deep,{},result[key],objectn[key])}else{result[key]=objectn[key]}}})});return result};module.exports=merge},{"type-component":14}],14:[function(_dereq_,module,exports){module.exports=_dereq_(6)},{}],15:[function(_dereq_,module,exports){var Emitter=_dereq_("emitter");var reduce=_dereq_("reduce");var root="undefined"==typeof window?this:window;function noop(){}function isHost(obj){var str={}.toString.call(obj);switch(str){case"[object File]":case"[object Blob]":case"[object FormData]":return true;default:return false}}function getXHR(){if(root.XMLHttpRequest&&("file:"!=root.location.protocol||!root.ActiveXObject)){return new XMLHttpRequest}else{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}}return false}var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};function isObject(obj){return obj===Object(obj)}function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj){if(null!=obj[key]){pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(obj[key]))}}return pairs.join("&")}request.serializeObject=serialize;function parseString(str){var obj={};var pairs=str.split("&");var parts;var pair;for(var i=0,len=pairs.length;i<len;++i){pair=pairs[i];parts=pair.split("=");obj[decodeURIComponent(parts[0])]=decodeURIComponent(parts[1])}return obj}request.parseString=parseString;request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify};request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse};function parseHeader(str){var lines=str.split(/\r?\n/);var fields={};var index;var line;var field;var val;lines.pop();for(var i=0,len=lines.length;i<len;++i){line=lines[i];index=line.indexOf(":");field=line.slice(0,index).toLowerCase();val=trim(line.slice(index+1));fields[field]=val}return fields}function type(str){return str.split(/ *; */).shift()}function params(str){return reduce(str.split(/ *; */),function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();if(key&&val)obj[key]=val;return obj},{})}function Response(req,options){options=options||{};this.req=req;this.xhr=this.req.xhr;this.text=this.xhr.responseText;this.setStatusProperties(this.xhr.status);this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders());this.header["content-type"]=this.xhr.getResponseHeader("content-type");this.setHeaderProperties(this.header);this.body=this.req.method!="HEAD"?this.parseBody(this.text):null}Response.prototype.get=function(field){return this.header[field.toLowerCase()]};Response.prototype.setHeaderProperties=function(header){var ct=this.header["content-type"]||"";this.type=type(ct);var obj=params(ct);for(var key in obj)this[key]=obj[key]};Response.prototype.parseBody=function(str){var parse=request.parse[this.type];return parse?parse(str):null};Response.prototype.setStatusProperties=function(status){var type=status/100|0;this.status=status;this.statusType=type;this.info=1==type;this.ok=2==type;this.clientError=4==type;this.serverError=5==type;this.error=4==type||5==type?this.toError():false;this.accepted=202==status;this.noContent=204==status||1223==status;this.badRequest=400==status;this.unauthorized=401==status;this.notAcceptable=406==status;this.notFound=404==status;this.forbidden=403==status};Response.prototype.toError=function(){var req=this.req;var method=req.method;var path=req.path;var msg="cannot "+method+" "+path+" ("+this.status+")";var err=new Error(msg);err.status=this.status;err.method=method;err.path=path;return err};request.Response=Response;function Request(method,url){var self=this;Emitter.call(this);this._query=this._query||[];this.method=method;this.url=url;this.header={};this._header={};this.on("end",function(){var res=new Response(self);if("HEAD"==method)res.text=null;self.callback(null,res)})}Emitter(Request.prototype);Request.prototype.use=function(fn){fn(this);return this};Request.prototype.timeout=function(ms){this._timeout=ms;return this};Request.prototype.clearTimeout=function(){this._timeout=0;clearTimeout(this._timer);return this};Request.prototype.abort=function(){if(this.aborted)return;this.aborted=true;this.xhr.abort();this.clearTimeout();this.emit("abort");return this};Request.prototype.set=function(field,val){if(isObject(field)){for(var key in field){this.set(key,field[key])}return this}this._header[field.toLowerCase()]=val;this.header[field]=val;return this};Request.prototype.getHeader=function(field){return this._header[field.toLowerCase()]};Request.prototype.type=function(type){this.set("Content-Type",request.types[type]||type);return this};Request.prototype.accept=function(type){this.set("Accept",request.types[type]||type);return this};Request.prototype.auth=function(user,pass){var str=btoa(user+":"+pass);this.set("Authorization","Basic "+str);return this};Request.prototype.query=function(val){if("string"!=typeof val)val=serialize(val);if(val)this._query.push(val);return this};Request.prototype.send=function(data){var obj=isObject(data);var type=this.getHeader("Content-Type");if(obj&&isObject(this._data)){for(var key in data){this._data[key]=data[key]}}else if("string"==typeof data){if(!type)this.type("form");type=this.getHeader("Content-Type");if("application/x-www-form-urlencoded"==type){this._data=this._data?this._data+"&"+data:data}else{this._data=(this._data||"")+data}}else{this._data=data}if(!obj)return this;if(!type)this.type("json");return this};Request.prototype.callback=function(err,res){var fn=this._callback;if(2==fn.length)return fn(err,res);if(err)return this.emit("error",err);fn(res)};Request.prototype.crossDomainError=function(){var err=new Error("Origin is not allowed by Access-Control-Allow-Origin");err.crossDomain=true;this.callback(err)};Request.prototype.timeoutError=function(){var timeout=this._timeout;var err=new Error("timeout of "+timeout+"ms exceeded");err.timeout=timeout;this.callback(err)};Request.prototype.withCredentials=function(){this._withCredentials=true;return this};Request.prototype.end=function(fn){var self=this;var xhr=this.xhr=getXHR();var query=this._query.join("&");var timeout=this._timeout;var data=this._data;this._callback=fn||noop;xhr.onreadystatechange=function(){if(4!=xhr.readyState)return;if(0==xhr.status){if(self.aborted)return self.timeoutError();return self.crossDomainError()}self.emit("end")};if(xhr.upload){xhr.upload.onprogress=function(e){e.percent=e.loaded/e.total*100;self.emit("progress",e)}}if(timeout&&!this._timer){this._timer=setTimeout(function(){self.abort()},timeout)}if(query){query=request.serializeObject(query);this.url+=~this.url.indexOf("?")?"&"+query:"?"+query}xhr.open(this.method,this.url,true);if(this._withCredentials)xhr.withCredentials=true;if("GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!isHost(data)){var serialize=request.serialize[this.getHeader("Content-Type")];if(serialize)data=serialize(data)}for(var field in this.header){if(null==this.header[field])continue;xhr.setRequestHeader(field,this.header[field])}this.emit("request",this);xhr.send(data);return this};request.Request=Request;function request(method,url){if("function"==typeof url){return new Request("GET",method).end(url)}if(1==arguments.length){return new Request("GET",method)}return new Request(method,url)}request.get=function(url,data,fn){var req=request("GET",url);if("function"==typeof data)fn=data,data=null;if(data)req.query(data);if(fn)req.end(fn);return req};request.head=function(url,data,fn){var req=request("HEAD",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.del=function(url,fn){var req=request("DELETE",url);if(fn)req.end(fn);return req};request.patch=function(url,data,fn){var req=request("PATCH",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.post=function(url,data,fn){var req=request("POST",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};request.put=function(url,data,fn){var req=request("PUT",url);if("function"==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req};module.exports=request},{emitter:16,reduce:17}],16:[function(_dereq_,module,exports){module.exports=Emitter;function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key]}return obj}Emitter.prototype.on=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks[event]=this._callbacks[event]||[]).push(fn);return this};Emitter.prototype.once=function(event,fn){var self=this;this._callbacks=this._callbacks||{};function on(){self.off(event,on);fn.apply(this,arguments)}fn._off=on;this.on(event,on);return this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks[event];return this}var i=callbacks.indexOf(fn._off||fn);if(~i)callbacks.splice(i,1);return this};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args)}}return this};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks[event]||[]};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],17:[function(_dereq_,module,exports){module.exports=function(arr,fn,initial){var idx=0;var len=arr.length;var curr=arguments.length==3?initial:arr[idx++];while(idx<len){curr=fn.call(null,curr,arr[idx],++idx,arr)}return curr}},{}],18:[function(_dereq_,module,exports){var is=_dereq_("sc-is"),cast=_dereq_("sc-cast"),hasKey=_dereq_("sc-haskey"),merge=_dereq_("sc-merge"),emitter=_dereq_("emitter-component"),request=_dereq_("./request.ajax.js");var noop=function(){};var Attributes=function(_key,_value){return merge({name:_key||"",type:"","default":null,optional:false},_value)};var getProperty=function(_key){return function(){return this.__data[_key]}};var setProperty=function(_key){return function(_value){var self=this,attributes=self.__attributes[_key],value=attributes.type?cast(_value,attributes.type,attributes["default"]):_value;if(self.__data[_key]!==value){self.emit("change",self.__data[_key],value)}self.__data[_key]=value}};var Model=function(_name,_key){var self=this;Object.defineProperties(self,{__attributes:{value:{},writable:true},__base:{value:"",writable:true},__data:{value:{},writable:true},__destroyed:{value:false,writable:true},__headers:{value:{},writable:true},__key:{value:_key||"id",writable:true},__name:{value:_name||""},__url:{value:"",writable:true}});self.property(self.__key);return self};Model.prototype.base=function(_base){var self=this,url=is.empty(_base)?"":_base;self.__base=url.trim().replace(/(\/|\s)+$/g,"");return is.empty(_base)?self.__base:self};Model.prototype.destroy=function(_callback){var self=this,error=null,isDirty=self.isDirty(),data=self.json(),url=self.url()+"/"+self[self.__key],method="delete",callback=is.a.func(_callback)?_callback:noop;if(!isDirty){request(self,data,method,url,function(){self.__destroyed=true;callback.apply(self,arguments)})}else{callback.apply(self,[new Error("This model cannot be destroyed because it has not been saved to the server yet.")])}};Model.prototype.json=function(){return this.__data};Model.prototype.headers=function(_headers){this.__headers=is.an.object(_headers)?_headers:this.__headers;return this};Model.prototype.isDirty=function(){return is.empty(this[this.__key])};Model.prototype.isValid=function(){var self=this,isValid=true;Object.keys(self.__attributes).forEach(function(_key){var value=self[_key],attributes=self.__attributes[_key],type=attributes.type,isRequired=attributes.optional?false:true,hasNoDefault=is.nullOrUndefined(attributes["default"]),isNullOrUndefined=is.nullOrUndefined(value),typeIsWrong=is.not.empty(type)?is.not.a[type](value):isNullOrUndefined;if(isRequired&&typeIsWrong){isValid=false}});return isValid};Model.prototype.property=function(_key,_value){var self=this,attributes=new Attributes(_key,_value);if(!self.hasOwnProperty(_key)){Object.defineProperty(self,_key,{get:getProperty(_key),set:setProperty(_key),enumerable:true});self.__attributes[_key]=attributes}if(attributes.optional===false&&is.not.nullOrUndefined(attributes["default"])){self[_key]=attributes["default"]}else if(attributes.optional===false){self.__data[_key]=is.empty(attributes.type)?undefined:cast(undefined,attributes.type)}return self};Model.prototype.save=function(_callback){var self=this,error=null,isDirty=self.isDirty(),data=self.json(),url=self.url()+(!isDirty?"/"+self[self.__key]:""),method=isDirty?"post":"put",callback=is.a.func(_callback)?_callback:noop;request(self,data,method,url,function(){callback.apply(self,arguments)})};Model.prototype.url=function(_url){var self=this,base=is.empty(self.__base)?"":self.__base,name=is.empty(self.__name)?"":"/"+self.__name.trim().replace(/^\//,""),url=_url||self.__url||"",endpoint=base+name+(is.empty(url)?"":"/"+url.trim().replace(/^\//,""));self.__url=url.trim().replace(/^\//,"");return is.empty(_url)?endpoint:self};emitter(Model.prototype);module.exports=Model},{"./request.ajax.js":19,"emitter-component":1,"sc-cast":2,"sc-haskey":5,"sc-is":7,"sc-merge":13}],19:[function(_dereq_,module,exports){var request=_dereq_("superagent"),is=_dereq_("sc-is"),hasKey=_dereq_("sc-haskey");module.exports=function(_model,_data,_method,_url,_callback){var method=/delete/i.test(_method)?"del":_method,model=_model,data=_data,url=_url,isDirty=model.isDirty(),error;request[method](url).accept("json").send(data).end(function(_error,_res){var res=is.an.object(_res)?_res:{},body=hasKey(_res,"body","object")?_res.body:null;if(res["ok"]!==true){error=new Error("The response from the server was not OK")}if(body===null){error=new Error("The response from the server contained an empty body")}if(!error&&isDirty&&!hasKey(body,model.__key)){error=new Error("The response from the server did not contain a valid `"+model.__key+"`")}if(!error&&isDirty){model[model.__key]=body[model.__key]}Object.keys(body).forEach(function(_key){if(model.hasOwnProperty(_key)){model[_key]=body[_key]}});_callback&&_callback(error,model)})}},{"sc-haskey":5,"sc-is":7,superagent:15}]},{},[18])(18)});